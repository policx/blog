






<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8"/>
<meta name="renderer" content="webkit"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"/>
<meta name="format-detection" content="telephone=no, date=no, address=no, email=no"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"/>
<meta http-equiv="Cache-Control" content="no-transform"/>
<meta http-equiv="Cache-Control" content="no-siteapp"/>

<meta name="generator" content="Hugo 0.79.0 with theme icarus"/>
<meta name="google-site-verification" content="Your googleVerification code"/>
<meta name="baidu-site-verification" content="Your baiduVerification code"/>

<meta name="author" content="æ±Ÿæ¹–"/>
<meta name="description" content="å‰è¨€ å®ç°åŸç† ä¼˜åŒ–ï¼šé™ä½50%ä»¥ä¸Šè¯¯æŠ¥æœºç‡ å¯¹åŸæœ‰APIè®¾è®¡çš„å‡ ç‚¹ä¼˜åŒ–æ„è§ æœºåˆ¶çŠ¶æ€åº”å½“ç”¨æšä¸¾æ¥åšä¸ºAPIé€å‡º å…³é”®æ•°å€¼åº”å½“åšä¸ºåˆå§‹åŒ–å‚æ•°ä¾›ç”¨æˆ·è®¾ç½®"/>
<meta name="keywords" content=""/>

<title>è¿ç»­å¯åŠ¨ crash è‡ªä¿®å¤æŠ€æœ¯å®ç°ä¸åŸç†è§£æ - æ•°å­—äººç”Ÿ</title>


<meta name="application-name" content="æ•°å­—äººç”Ÿ" />
<meta name="msapplication-TileImage" content="img/favicon.svg" />

<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-title" content="æ•°å­—äººç”Ÿ" />
<meta name="apple-mobile-web-app-status-bar-style" content="default" />






<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https:\/\/blog.policx.com\/posts\/crash\/"
    },
    "headline": "æ•°å­—äººç”Ÿ",
    "image": [],
    "dataPublished": "2018-02-06T15:21:18Z",
    "dataModified": "2018-02-06T15:21:18Z",
    "author": {
        "@type": "Person",
        "name": "æ±Ÿæ¹–"
    },
    "description": "å‰è¨€ å®ç°åŸç† ä¼˜åŒ–ï¼šé™ä½50%ä»¥ä¸Šè¯¯æŠ¥æœºç‡ å¯¹åŸæœ‰APIè®¾è®¡çš„å‡ ç‚¹ä¼˜åŒ–æ„è§ æœºåˆ¶çŠ¶æ€åº”å½“ç”¨æšä¸¾æ¥åšä¸ºAPIé€å‡º å…³é”®æ•°å€¼åº”å½“åšä¸ºåˆå§‹åŒ–å‚æ•°ä¾›ç”¨æˆ·è®¾ç½®"
}
</script>


<link rel="canonical" href="https://blog.policx.com/posts/crash/"/>
<link rel="alternate" href="https://blog.policx.com/index.xml" title="æ•°å­—äººç”Ÿ" type="application/rss+xml"/>
<link rel="icon" href="/img/favicon.svg"/>



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-light.min.css"/>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source&#43;Code&#43;Pro"/>

<link rel="stylesheet" href="/css/default.css"/>


    
    
        
        
        
        

    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>


        
    

    
    
        
        
        
        



        
    

    
    

    
    

    
    
        
        
        
        

    <script type="text/javascript" src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script>


        
    

    
    

    
    
        
        
        
        

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.css"/>


        
    

    
    

    
    

    
    

    
    

    
    
        
        
        
        



        
    

    
    
        
        
        
        

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.css"/>


        
    

    
    
        
        
        
        

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/pace.min.js"></script>


        
    

    
    

    
    
        
        
        
        



        
    

    
    




</head>
<body class="is-3-column">
<nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand justify-content-center">
            <a class="navbar-item navbar-logo" href="/">
                
                    <img src="/img/apple/logo.gif" alt="è¿ç»­å¯åŠ¨ crash è‡ªä¿®å¤æŠ€æœ¯å®ç°ä¸åŸç†è§£æ" height="28">
                
            </a>
        </div>
        <div class="navbar-menu">
            <div class="navbar-start">
                
                
                    <a class="navbar-item "
                       href="/">ä¸»é¡µ</a>
                
                    <a class="navbar-item "
                       href="/archives">å½’æ¡£</a>
                
                    <a class="navbar-item "
                       href="/categories">åˆ†ç±»</a>
                
                    <a class="navbar-item "
                       href="/tags">æ ‡ç­¾</a>
                
                    <a class="navbar-item "
                       href="/about">å…³äº</a>
                
            </div>
            <div class="navbar-end">
                
                    
                
                
                
                    <a class="navbar-item search" title="æœç´¢" href="javascript:;">
                        <i class="fas fa-search"></i>
                    </a>
                
            </div>
        </div>
    </div>
</nav>

<section class="section">
    <div class="container">
        <div class="columns">
            <div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen">
                
    <div class="card">
    
        <div class="card-image">
            <span class="image is-7by3">
                <img class="fill" src="https://images.pexels.com/photos/1029757/pexels-photo-1029757.jpeg?auto=compress&amp;cs=tinysrgb&amp;dpr=2&amp;w=500" alt="è¿ç»­å¯åŠ¨ crash è‡ªä¿®å¤æŠ€æœ¯å®ç°ä¸åŸç†è§£æ">
            </span>
        </div>
    
    <article class="card-content article" role="article">
        
            <div class="article-meta is-size-7 is-uppercase level is-mobile">
                <div class="level-left">
                    
                        <span class="level-item">
                            <time dateTime="2018-02-06T15:21:18Z"
                                  title="2018-02-06T15:21:18Z">2018-02-06</time>å‘è¡¨
                        </span>
                    
                    
                        <span class="level-item">
                            <time dateTime="2018-02-06T15:21:18Z"
                                  title="2018-02-06T15:21:18Z">2018-02-06</time>æ›´æ–°
                        </span>
                    
                    
                    
                        <span class="level-item">
                            
                            <a class="link-muted" href="/categories/program">program</a>
                        </span>
                    
                    
                        <span class="level-item">10 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦4728ä¸ªå­—)</span>
                    
                    
                        <span class="level-item" id="busuanzi_container_page_pv">
                            <span id="busuanzi_value_page_pv">0</span>æ¬¡è®¿é—®
                        </span>
                    
                </div>
            </div>
        
        <h1 class="title is-3 is-size-4-mobile">è¿ç»­å¯åŠ¨ crash è‡ªä¿®å¤æŠ€æœ¯å®ç°ä¸åŸç†è§£æ</h1>
        <div class="content"><ul>
<li>å‰è¨€</li>
<li>å®ç°åŸç†</li>
<li>ä¼˜åŒ–ï¼šé™ä½50%ä»¥ä¸Šè¯¯æŠ¥æœºç‡</li>
<li>å¯¹åŸæœ‰APIè®¾è®¡çš„å‡ ç‚¹ä¼˜åŒ–æ„è§</li>
<li>
<ol>
<li>æœºåˆ¶çŠ¶æ€åº”å½“ç”¨æšä¸¾æ¥åšä¸ºAPIé€å‡º</li>
</ol>
</li>
<li>
<ol start="2">
<li>å…³é”®æ•°å€¼åº”å½“åšä¸ºåˆå§‹åŒ–å‚æ•°ä¾›ç”¨æˆ·è®¾ç½®</li>
</ol>
</li>
<li>
<ol start="3">
<li>ä¿®å¤ã€ä¸ŠæŠ¥é€»è¾‘åº”å½“æ”¯æŒç”¨æˆ·å¼‚æ­¥æ“ä½œ</li>
</ol>
</li>
<li>ä»€ä¹ˆæ—¶å€™ä¼šå‡ºç°è¯¥å¼‚å¸¸ï¼Ÿ</li>
<li>è¿ç»­å¯åŠ¨ crash è‡ªä¿®å¤æŠ€æœ¯å®ç°ä¸åŸç†è§£æ</li>
</ul>
<!-- more -->
<h2 id="å‰è¨€">å‰è¨€</h2>
<hr>
<blockquote>
<p>å¦‚æœ app è¿ç»­ crash ä¸¤æ¬¡æ— æ³•å¯åŠ¨ï¼Œç”¨æˆ·å¾€å¾€ä¼šé€‰æ‹©å¸è½½ã€‚</p>
</blockquote>
<p>è¿ç»­å¯åŠ¨ crash åº”è¯¥æ˜¯ crash ç±»å‹ä¸­æœ€ä¸¥é‡çš„ä¸€ç±»ï¼Œè¯¥é—®é¢˜å¸¸å¸¸ä¸æ•°æ®åº“æ“ä½œæœ‰å…³ï¼Œæ¯”å¦‚ï¼šæ•°æ®åº“æŸåã€æœåŠ¡ç«¯è¿”å›æ•°æ®é”™è¯¯ï¼Œå­˜å…¥æ•°æ®åº“ï¼Œapp è¯»å–æ—¶äº§ç”Ÿæ•°ç»„è¶Šç•Œã€æ‰¾ä¸åˆ°æ–¹æ³•ã€‚</p>
<p>é‚£ä¹ˆé™¤äº†çƒ­ä¿®å¤ï¼Œèƒ½å¦â€œè‡ªä¿®å¤â€è¯¥é—®é¢˜å‘¢ï¼Ÿ</p>
<p>åœ¨å¾®ä¿¡è¯»ä¹¦å›¢é˜Ÿå‘å¸ƒçš„<a href="https://wereadteam.github.io/2016/05/23/GYBootingProtection/">ã€ŠiOS å¯åŠ¨è¿ç»­é—ªé€€ä¿æŠ¤æ–¹æ¡ˆã€‹</a> ä¸€æ–‡ä¸­ï¼Œç»™å‡ºäº†è¿ç»­å¯åŠ¨crashçš„è‡ªä¿®å¤æŠ€æœ¯çš„æ€è·¯è®²è§£ï¼Œå¹¶åœ¨GitHubä¸Šç»™å‡ºäº†æŠ€æœ¯å®ç°ï¼Œå¹¶å¼€æºäº†<a href="https://github.com/liuslevis/GYBootingProtection"> GYBootingProtection</a>ã€‚æ–¹æ¡ˆæ€è·¯å¾ˆå¥½ï¼Œå¾ˆè½»é‡çº§ã€‚</p>
<h2 id="å®ç°åŸç†">å®ç°åŸç†</h2>
<hr>
<p>åœ¨å¾®ä¿¡è¯»ä¹¦å›¢é˜Ÿç»™å‡ºçš„æ–‡ç« ä¸­å·²ç»æœ‰æ¯”è¾ƒè¯¦ç»†çš„é˜è¿°ï¼Œåœ¨æ­¤ä¸åšèµ˜è¿°ï¼Œå®ç°çš„æµç¨‹å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š
<a href=""></a>
ä½†æœ‰ä¸ªå®ç°ä¸Šå¯ä»¥ä¼˜åŒ–ä¸‹ï¼Œå¯ä»¥é™ä½50%ä»¥ä¸Šè¯¯æŠ¥æœºç‡ï¼Œç›‘å¬ç”¨æˆ·æ‰‹åŠ¨åˆ’æ‰ APP è¿™ä¸ªäº‹ä»¶ï¼Œå…¶ä¸­ä¸€äº›ç‰¹å®šåœºæ™¯ï¼Œæ˜¯å¯ä»¥è·å–çš„ã€‚å¦å¤–åœ¨è¿™é‡Œä¹Ÿç»™å‡ºå¯¹å…¶ API è®¾è®¡çš„å»ºè®®ã€‚æœ€åç»™å‡ºä¼˜åŒ–åçš„å®ç°ã€‚</p>
<h2 id="ä¼˜åŒ–é™ä½50ä»¥ä¸Šè¯¯æŠ¥æœºç‡">ä¼˜åŒ–ï¼šé™ä½50%ä»¥ä¸Šè¯¯æŠ¥æœºç‡</h2>
<hr>
<p>ç”¨æˆ·ä¸»åŠ¨ kill æ‰ APP åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š</p>
<ul>
<li>Appåœ¨å‰å°æ—¶ç”¨æˆ·æ‰‹åŠ¨åˆ’æ‰APPçš„æ—¶å€™</li>
<li>APPåœ¨åå°æ—¶åˆ’æ‰APP</li>
</ul>
<p>ç¬¬ä¸€ç§åœºæ™¯æ›´ä¸ºå¸¸è§ï¼Œå¯ä»¥é€šè¿‡ç›‘å¬ UIApplicationWillTerminateNotification æ¥æ•è·è¯¥åŠ¨ä½œï¼Œæ•è·åæ¢å¤è®¡æ•°ã€‚ç¬¬äºŒç§æƒ…å†µï¼Œæ— æ³•ç›‘å¬åˆ°ã€‚ä½†ä¹Ÿè¶³ä»¥é™ä½ 50% ä»¥ä¸Šçš„è¯¯æŠ¥æœºç‡ã€‚</p>
<h3 id="å¯¹åŸæœ‰apiè®¾è®¡çš„å‡ ç‚¹ä¼˜åŒ–æ„è§">å¯¹åŸæœ‰APIè®¾è®¡çš„å‡ ç‚¹ä¼˜åŒ–æ„è§</h3>
<h4 id="1-æœºåˆ¶çŠ¶æ€åº”å½“ç”¨æšä¸¾æ¥åšä¸ºapié€å‡º">1. æœºåˆ¶çŠ¶æ€åº”å½“ç”¨æšä¸¾æ¥åšä¸ºAPIé€å‡º</h4>
<p>è¯¥æœºåˆ¶å½“å‰æ‰€å¤„çš„çŠ¶æ€ï¼Œæ¯”å¦‚ï¼šNeedFix ã€isFixingï¼Œå»ºè®®ç”¨æšä¸¾æ¥åšä¸ºAPIé€å‡ºã€‚æ¯”å¦‚ï¼š</p>
<ul>
<li>APP å¯åŠ¨æ­£å¸¸</li>
<li>æ­£åœ¨æ£€æµ‹æ˜¯å¦ä¼šåœ¨ç‰¹å®šæ—¶é—´å†…æ˜¯å¦ä¼š Crashï¼Œæ³¨æ„ï¼šæ£€æµ‹çŠ¶æ€ä¸‹â€œè¿ç»­å¯åŠ¨å´©æºƒè®¡æ•°â€ä¸ªæ•°å°äºæˆ–ç­‰äºä¸Šé™å€¼</li>
<li>APP å‡ºç°è¿ç»­å¯åŠ¨ Crashï¼Œéœ€è¦é‡‡å–ä¿®å¤æªæ–½</li>
<li>APP å‡ºç°è¿ç»­å¯åŠ¨ Crashï¼Œæ­£åœ¨ä¿®å¤ä¸­</li>
</ul>
<h4 id="2-å…³é”®æ•°å€¼åº”å½“åšä¸ºåˆå§‹åŒ–å‚æ•°ä¾›ç”¨æˆ·è®¾ç½®">2. å…³é”®æ•°å€¼åº”å½“åšä¸ºåˆå§‹åŒ–å‚æ•°ä¾›ç”¨æˆ·è®¾ç½®</h4>
<ul>
<li>å½“å‰å¯åŠ¨Crashçš„çŠ¶æ€</li>
<li>è¾¾åˆ°éœ€è¦æ‰§è¡Œä¸ŠæŠ¥æ“ä½œçš„â€œè¿ç»­å¯åŠ¨å´©æºƒè®¡æ•°â€ä¸ªæ•°ã€‚</li>
<li>è¾¾åˆ°éœ€è¦æ‰§è¡Œä¿®å¤æ“ä½œçš„â€œè¿ç»­å¯åŠ¨å´©æºƒè®¡æ•°â€ä¸ªæ•°ã€‚</li>
<li>APP å¯åŠ¨åç»è¿‡å¤šå°‘ç§’ï¼Œå¯ä»¥å°†â€œè¿ç»­å¯åŠ¨å´©æºƒè®¡æ•°â€æ¸…é›¶</li>
</ul>
<h4 id="3-ä¿®å¤ä¸ŠæŠ¥é€»è¾‘åº”å½“æ”¯æŒç”¨æˆ·å¼‚æ­¥æ“ä½œ">3. ä¿®å¤ã€ä¸ŠæŠ¥é€»è¾‘åº”å½“æ”¯æŒç”¨æˆ·å¼‚æ­¥æ“ä½œ</h4>
<p><code>reportBlock</code> ä¸ŠæŠ¥é€»è¾‘ï¼Œ
<code>repairtBlock</code> ä¿®å¤é€»è¾‘</p>
<p>æ¯”å¦‚ï¼š</p>
<pre><code>typedef void (^BoolCompletionHandler)(BOOL succeeded, NSError *error);
typedef void (^RepairBlock)(ABSBoolCompletionHandler completionHandler);
</code></pre><p>ç”¨æˆ·æ‰§è¡Œ BoolCompletionHandler åå³å¯çŸ¥é“æ˜¯å¦æ‰§è¡Œå®Œæ¯•ï¼Œå¹¶ä¸”æ”¯æŒå¼‚æ­¥æ“ä½œã€‚</p>
<p>å¼‚æ­¥æ“ä½œå¸¦æ¥çš„é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡å‰é¢æåˆ°çš„æšä¸¾APIæ¥å®æ—¶ç›‘æµ‹çŠ¶æ€ï¼Œæ¥å†³å®šå„ç§å…¶ä»–æ“ä½œã€‚</p>
<h2 id="ä»€ä¹ˆæ—¶å€™ä¼šå‡ºç°è¯¥å¼‚å¸¸">ä»€ä¹ˆæ—¶å€™ä¼šå‡ºç°è¯¥å¼‚å¸¸ï¼Ÿ</h2>
<h3 id="è¿ç»­å¯åŠ¨-crash-è‡ªä¿®å¤æŠ€æœ¯å®ç°ä¸åŸç†è§£æ">è¿ç»­å¯åŠ¨ crash è‡ªä¿®å¤æŠ€æœ¯å®ç°ä¸åŸç†è§£æ</h3>
<p>ä¸‹é¢ç»™å‡ºä¼˜åŒ–åçš„ä»£ç å®ç°ï¼š</p>
<pre><code>//
//  CYLBootingProtection.h
//  
//
//  Created by ChenYilong on 18/01/10.
//  Copyright Â© 2018å¹´ ChenYilong. All rights reserved.
//

#import &lt;Foundation/Foundation.h&gt;

typedef void (^ABSBoolCompletionHandler)(BOOL succeeded, NSError *error);
typedef void (^ABSRepairBlock)(ABSBoolCompletionHandler completionHandler);
typedef void (^ABSReportBlock)(NSUInteger crashCounts);

typedef NS_ENUM(NSInteger, BootingProtectionStatus) {
   BootingProtectionStatusNormal,  /**&lt;  APP å¯åŠ¨æ­£å¸¸ */
   BootingProtectionStatusNormalChecking,  /**&lt; æ­£åœ¨æ£€æµ‹æ˜¯å¦ä¼šåœ¨ç‰¹å®šæ—¶é—´å†…æ˜¯å¦ä¼š Crashï¼Œæ³¨æ„ï¼šæ£€æµ‹çŠ¶æ€ä¸‹â€œè¿ç»­å¯åŠ¨å´©æºƒè®¡æ•°â€ä¸ªæ•°å°äºæˆ–ç­‰äºä¸Šé™å€¼ */
   BootingProtectionStatusNeedFix, /**&lt; APP å‡ºç°è¿ç»­å¯åŠ¨ Crashï¼Œéœ€è¦é‡‡å–ä¿®å¤æªæ–½ */
   BootingProtectionStatusFixing,   /**&lt; APP å‡ºç°è¿ç»­å¯åŠ¨ Crashï¼Œæ­£åœ¨ä¿®å¤ä¸­... */
};

/**
* å¯åŠ¨è¿ç»­ crash ä¿æŠ¤ã€‚
* å¯åŠ¨å `_crashOnLaunchTimeIntervalThreshold` ç§’å†… crashï¼Œåå¤è¶…è¿‡ `_continuousCrashOnLaunchNeedToReport` æ¬¡åˆ™ä¸ŠæŠ¥æ—¥å¿—ï¼Œè¶…è¿‡ `_continuousCrashOnLaunchNeedToFix` åˆ™å¯åŠ¨ä¿®å¤æ“ä½œã€‚
*/
@interface CYLBootingProtection : NSObject

/**
* å¯åŠ¨è¿ç»­ crash ä¿æŠ¤æ–¹æ³•ã€‚
* å‰ç½®æ¡ä»¶ï¼šåœ¨ App å¯åŠ¨æ—¶æ³¨å†Œ crash å¤„ç†å‡½æ•°ï¼Œåœ¨ crash æ—¶è°ƒç”¨[CYLBootingProtection addCrashCountIfNeeded]ã€‚
* å¯åŠ¨åä¸€å®šæ—¶é—´å†…ï¼ˆ`crashOnLaunchTimeIntervalThreshold`ç§’å†…ï¼‰crashï¼Œåå¤è¶…è¿‡ä¸€å®šæ¬¡æ•°ï¼ˆ`continuousCrashOnLaunchNeedToReport`æ¬¡ï¼‰åˆ™ä¸ŠæŠ¥æ—¥å¿—ï¼Œè¶…è¿‡ä¸€å®šæ¬¡æ•°ï¼ˆ`continuousCrashOnLaunchNeedToFix`æ¬¡ï¼‰åˆ™å¯åŠ¨ä¿®å¤ç¨‹åºï¼›åœ¨ä¸€å®šæ—¶é—´å†…ï¼ˆ`crashOnLaunchTimeIntervalThreshold`ç§’ï¼‰ ç§’åè‹¥æ²¡æœ‰ crash å°†â€œè¿ç»­å¯åŠ¨å´©æºƒè®¡æ•°â€è®¡æ•°ç½®é›¶ã€‚
 `reportBlock` ä¸ŠæŠ¥é€»è¾‘ï¼Œ
 `repairtBlock` ä¿®å¤é€»è¾‘ï¼Œå®Œæˆåæ‰§è¡Œ `[self setCrashCount:0]`

*/
- (void)launchContinuousCrashProtect;

/*!
* å½“å‰å¯åŠ¨Crashçš„çŠ¶æ€
*/
@property (nonatomic, assign, readonly) BootingProtectionStatus bootingProtectionStatus;

/*!
* è¾¾åˆ°éœ€è¦æ‰§è¡Œä¸ŠæŠ¥æ“ä½œçš„â€œè¿ç»­å¯åŠ¨å´©æºƒè®¡æ•°â€ä¸ªæ•°ã€‚
*/
@property (nonatomic, assign, readonly) NSUInteger continuousCrashOnLaunchNeedToReport;

/*!
* è¾¾åˆ°éœ€è¦æ‰§è¡Œä¿®å¤æ“ä½œçš„â€œè¿ç»­å¯åŠ¨å´©æºƒè®¡æ•°â€ä¸ªæ•°ã€‚
*/
@property (nonatomic, assign, readonly) NSUInteger continuousCrashOnLaunchNeedToFix;

/*!
* APP å¯åŠ¨åç»è¿‡å¤šå°‘ç§’ï¼Œå¯ä»¥å°†â€œè¿ç»­å¯åŠ¨å´©æºƒè®¡æ•°â€æ¸…é›¶
*/
@property (nonatomic, assign, readonly) NSTimeInterval crashOnLaunchTimeIntervalThreshold;

/*!
* å€ŸåŠ© context å¯ä»¥è®©å¤šä¸ªæ¨¡å—æ³¨å†Œäº‹ä»¶ï¼Œå¹¶ä¸”äº‹ä»¶ block èƒ½ç‹¬ç«‹æ‰§è¡Œï¼Œäº’ä¸å¹²æ‰°ã€‚
*/
@property (nonatomic, copy, readonly) NSString *context;

/*!
* @details å¯åŠ¨åkCrashOnLaunchTimeIntervalThresholdç§’å†…crashï¼Œåå¤è¶…è¿‡continuousCrashOnLaunchNeedToReportæ¬¡åˆ™ä¸ŠæŠ¥æ—¥å¿—ï¼Œè¶…è¿‡continuousCrashOnLaunchNeedToFixåˆ™å¯åŠ¨ä¿®å¤ç¨‹åºï¼›å½“æ‰€æœ‰æ“ä½œå®Œæˆåï¼Œæ‰§è¡Œ completionã€‚åœ¨ crashOnLaunchTimeIntervalThreshold ç§’åè‹¥æ²¡æœ‰ crash å°† kContinuousCrashOnLaunchCounterKey è®¡æ•°ç½®é›¶ã€‚
* @param context å€ŸåŠ© context å¯ä»¥è®©å¤šä¸ªæ¨¡å—æ³¨å†Œäº‹ä»¶ï¼Œå¹¶ä¸”äº‹ä»¶ block èƒ½ç‹¬ç«‹æ‰§è¡Œï¼Œäº’ä¸å¹²æ‰°ã€‚
*/
- (instancetype)initWithContinuousCrashOnLaunchNeedToReport:(NSUInteger)continuousCrashOnLaunchNeedToReport
                          continuousCrashOnLaunchNeedToFix:(NSUInteger)continuousCrashOnLaunchNeedToFix
                        crashOnLaunchTimeIntervalThreshold:(NSTimeInterval)crashOnLaunchTimeIntervalThreshold
                                                   context:(NSString *)context;
/*!
* å½“å‰â€œè¿ç»­å¯åŠ¨å´©æºƒâ€œçš„çŠ¶æ€
*/
+ (BootingProtectionStatus)bootingProtectionStatusWithContext:(NSString *)context continuousCrashOnLaunchNeedToFix:(NSUInteger)continuousCrashOnLaunchNeedToFix;

/*!
* è®¾ç½®ä¸ŠæŠ¥é€»è¾‘ï¼Œå‚æ•° crashCounts ä¸ºå¯åŠ¨è¿ç»­ crash æ¬¡æ•°
*/
- (void)setReportBlock:(ABSReportBlock)reportBlock;

/*!
* è®¾ç½®ä¿®å¤é€»è¾‘
*/
- (void)setRepairBlock:(ABSRepairBlock)repairtBlock;

+ (void)setLogger:(void (^)(NSString *))logger;

@end
</code></pre><pre><code>//
//  CYLBootingProtection.m
//
//
//  Created by ChenYilong on 18/01/10.
//  Copyright Â© 2018å¹´ ChenYilong. All rights reserved.
//

#import &quot;CYLBootingProtection.h&quot;
#import &lt;UIKit/UIKit.h&gt;

static dispatch_queue_t _exceptionOperationQueue = 0;
void (^Logger)(NSString *log);

@interface CYLBootingProtection ()

@property (nonatomic, assign) NSUInteger continuousCrashOnLaunchNeedToReport;
@property (nonatomic, assign) NSUInteger continuousCrashOnLaunchNeedToFix;
@property (nonatomic, assign) NSTimeInterval crashOnLaunchTimeIntervalThreshold;
@property (nonatomic, copy) NSString *context;
@property (nonatomic, copy) ABSReportBlock reportBlock;
@property (nonatomic, copy) ABSRepairBlock repairBlock;

/*!
* è®¾ç½®â€œè¿ç»­å¯åŠ¨å´©æºƒè®¡æ•°â€ä¸ªæ•°
*/
- (void)setCrashCount:(NSInteger)count;

/*!
* è®¾ç½®â€œè¿ç»­å¯åŠ¨å´©æºƒè®¡æ•°â€ä¸ªæ•°
*/
+ (void)setCrashCount:(NSUInteger)count context:(NSString *)context;

/*!
* â€œè¿ç»­å¯åŠ¨å´©æºƒè®¡æ•°â€ä¸ªæ•°
*/
- (NSUInteger)crashCount;

/*!
* â€œè¿ç»­å¯åŠ¨å´©æºƒè®¡æ•°â€ä¸ªæ•°
*/
+ (NSUInteger)crashCountWithContext:(NSString *)context;

@end

@implementation CYLBootingProtection
+ (void)initialize {
   static dispatch_once_t onceToken;
   dispatch_once(&amp;onceToken, ^{
       _exceptionOperationQueue = dispatch_queue_create(&quot;com.ChenYilong.CYLBootingProtection.fileCacheQueue&quot;, DISPATCH_QUEUE_SERIAL);
   });
}
- (instancetype)initWithContinuousCrashOnLaunchNeedToReport:(NSUInteger)continuousCrashOnLaunchNeedToReport
                          continuousCrashOnLaunchNeedToFix:(NSUInteger)continuousCrashOnLaunchNeedToFix
                        crashOnLaunchTimeIntervalThreshold:(NSTimeInterval)crashOnLaunchTimeIntervalThreshold
                                                   context:(NSString *)context {
   if (!(self = [super init])) {
       return nil;
   }
   _continuousCrashOnLaunchNeedToReport = continuousCrashOnLaunchNeedToReport;
   _continuousCrashOnLaunchNeedToFix = continuousCrashOnLaunchNeedToFix;
   _crashOnLaunchTimeIntervalThreshold = crashOnLaunchTimeIntervalThreshold;
   _context = [context copy];
   [[NSNotificationCenter defaultCenter] addObserver:self
                                            selector:@selector(applicationWillTerminate:)
                                                name:UIApplicationWillTerminateNotification
                                              object:[UIApplication sharedApplication]];
   return self;
}

/*!
* Appåœ¨å‰å°æ—¶ç”¨æˆ·æ‰‹åŠ¨åˆ’æ‰APPçš„æ—¶å€™ï¼Œä¸è®¡å…¥æ£€æµ‹ã€‚
* ä½†æ˜¯APPåœ¨åå°æ—¶åˆ’æ‰APPï¼Œæ— æ³•æ£€æµ‹å‡ºæ¥ã€‚
* è§ï¼šhttps://stackoverflow.com/a/35041565/3395008
*/
- (void)applicationWillTerminate:(NSNotification *)note {
   BOOL isNormalChecking = [self isNormalChecking];
   if (isNormalChecking) {
       [self decreaseCrashCount];
   }
}

- (void)dealloc {
   [[NSNotificationCenter defaultCenter] removeObserver:self];
}

/*
æ”¯æŒåŒæ­¥ä¿®å¤ã€å¼‚æ­¥ä¿®å¤ï¼Œä¸¤ç§ä¿®å¤æ–¹å¼
- å¼‚æ­¥ä¿®å¤ï¼Œä¸å¡é¡¿ä¸»UIï¼Œä½†æœ‰ä¿®å¤æœªå®Œæˆå°±è¢«å†æ¬¡è§¦å‘crashã€æˆ–è€…ç”¨æˆ·killæ‰çš„å¯èƒ½ã€‚éœ€è¦ç”¨æˆ·æ‰‹åŠ¨æ ¹æ®ä¿®å¤çŠ¶æ€ï¼Œæ¥é€‰æ‹©æ€§åœ°è¿›è¡Œæ“ä½œï¼Œåº”è¯¥æœ‰å›æ‰ã€‚
- åŒæ­¥ä¿®å¤ï¼Œæœ€ç®€å•ç›´è§‚ï¼Œåœ¨ä¸»çº¿ç¨‹åˆ é™¤æˆ–è€…ä¸‹è½½ä¿®å¤åŒ…ã€‚
*/
- (void)launchContinuousCrashProtect {
   NSAssert(_repairBlock, @&quot;_repairBlock is nil!&quot;);
   [[self class] Logger:@&quot;CYLBootingProtection: Launch continuous crash report&quot;];
   [self resetBootingProtectionStatus];
   
   NSUInteger launchCrashes = [self crashCount];
   // ä¸ŠæŠ¥
   if (launchCrashes &gt;= self.continuousCrashOnLaunchNeedToReport) {
       NSString *logString = [NSString stringWithFormat:@&quot;CYLBootingProtection: App has continuously crashed for %@ times. Now synchronize uploading crash report and begin fixing procedure.&quot;, @(launchCrashes)];
       [[self class] Logger:logString];
       if (_reportBlock) {
           dispatch_async(dispatch_get_main_queue(),^{
               _reportBlock(launchCrashes);
           });
       }
   }
   
   // ä¿®å¤
   if ([self isUpToBootingProtectionCount]) {
       [[self class] Logger:@&quot;need to repair&quot;];
       [self setIsFixing:YES];
       if (_repairBlock) {
           ABSBoolCompletionHandler completionHandler = ^(BOOL succeeded, NSError *__nullable error){
               if (succeeded) {
                   [self resetCrashCount];
               } else {
                   [[self class] Logger:error.description];
               }
           };
           dispatch_async(dispatch_get_main_queue(),^{
               _repairBlock(completionHandler);
           });
       }
   } else {
       [self increaseCrashCount:launchCrashes];
       // æ­£å¸¸æµç¨‹ï¼Œæ— éœ€ä¿®å¤
       [[self class] Logger:@&quot;need no repair&quot;];
       
       // è®°å½•å¯åŠ¨æ—¶åˆ»ï¼Œç”¨äºè®¡ç®—å¯åŠ¨è¿ç»­ crash
       // é‡ç½®å¯åŠ¨ crash è®¡æ•°
       dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(self.crashOnLaunchTimeIntervalThreshold * NSEC_PER_SEC)), dispatch_get_main_queue(), ^(void){
           // APPæ´»è¿‡äº†é˜ˆå€¼æ—¶é—´ï¼Œé‡ç½®å´©æºƒè®¡æ•°
           NSString *logString = [NSString stringWithFormat:@&quot;CYLBootingProtection: long live the app ( more than %@ seconds ), now reset crash counts&quot;, @(self.crashOnLaunchTimeIntervalThreshold)];
           [[self class] Logger:logString];
           [self resetCrashCount];
       });
   }
}

//å‡å°‘è®¡æ•°çš„æ—¶æœºï¼šç”¨æˆ·æ‰‹åŠ¨åˆ’æ‰APP
- (void)decreaseCrashCount {
   NSUInteger oldCrashCount = [self crashCount];
   [self decreaseCrashCountWithOldCrashCount:oldCrashCount];
}

- (void)decreaseCrashCountWithOldCrashCount:(NSUInteger)oldCrashCount {
   dispatch_sync(_exceptionOperationQueue, ^{
       if (oldCrashCount &gt; 0) {
           [self setCrashCount:oldCrashCount-1];
       }
       [self resetBootingProtectionStatus];
   });
}

//é‡åˆ¶è®¡æ•°çš„æ—¶æœºï¼šä¿®å¤å®Œæˆã€æˆ–è€…ç”¨æˆ·æ‰‹åŠ¨åˆ’æ‰APP
- (void)resetCrashCount {
   [self setCrashCount:0];
   [self resetBootingProtectionStatus];
}

//åªåœ¨æœªè¾¾åˆ°è®¡æ•°ä¸Šé™æ—¶æ‰ä¼šå¢åŠ è®¡æ•°
- (void)increaseCrashCount:(NSUInteger)oldCrashCount {
   dispatch_sync(_exceptionOperationQueue, ^{
       [self setIsNormalChecking:YES];
       [self setCrashCount:oldCrashCount+1];
   });
}

- (void)resetBootingProtectionStatus {
   [self setIsNormalChecking:NO];
   [self setIsFixing:NO];
}

- (BootingProtectionStatus)bootingProtectionStatus {
   return [[self class] bootingProtectionStatusWithContext:_context continuousCrashOnLaunchNeedToFix:_continuousCrashOnLaunchNeedToFix];
}

/*!
*
@attention æ³¨æ„ä¹‹æ‰€ä»¥è¦æ£€æŸ¥ `BootingProtectionStatusNormalChecking` åŸå› å¦‚ä¸‹ï¼š

`-launchContinuousCrashProtect` æ–¹æ³•ä¸ `-bootingProtectionStatus` æ–¹æ³•ï¼Œå¦‚æœ `-launchContinuousCrashProtect` å…ˆæ‰§è¡Œï¼Œé‚£ä¹ˆä¼šé€ æˆå¦‚ä¸‹é—®é¢˜ï¼š
å‡è®¾nä¸ºä¸Šé™ï¼Œä½†crashï¼ˆn-1ï¼‰æ¬¡ï¼Œä½†æ˜¯ç”¨ `-bootingProtectionStatus` åˆ¤æ–­å‡ºæ¥ï¼Œå½“å‰å·²ç»å¤„äºnæ¬¡äº†ã€‚åŸå› å¦‚ä¸‹ï¼š

crashï¼ˆn-1ï¼‰æ¬¡ï¼Œæ­£å¸¸æµç¨‹ï¼Œè®¡æ•°+1ï¼Œå˜æˆnæ¬¡ï¼Œ
éšååœ¨æ£€æŸ¥ `-bootingProtectionStatus` æ—¶ï¼Œå‘ç°å·²ç»å¤„äºå¼‚å¸¸çŠ¶æ€äº†ï¼Œå®é™…æ˜¯æ­£å¸¸çŠ¶æ€ã€‚æ‰€ä»¥éœ€è¦ä½¿ç”¨`BootingProtectionStatusNormalChecking` æ¥è¿›è¡ŒåŒºåˆ†ã€‚
*/
+ (BootingProtectionStatus)bootingProtectionStatusWithContext:(NSString *)context continuousCrashOnLaunchNeedToFix:(NSUInteger)continuousCrashOnLaunchNeedToFix {
   
   BOOL isNormalChecking = [self isNormalCheckingWithContext:context];
   if (isNormalChecking) {
       return BootingProtectionStatusNormalChecking;
   }
   
   BOOL isUpToBootingProtectionCount = [self isUpToBootingProtectionCountWithContext:context
                                                    continuousCrashOnLaunchNeedToFix:continuousCrashOnLaunchNeedToFix];
   if (!isUpToBootingProtectionCount) {
       return BootingProtectionStatusNormal;
   }
   
   BootingProtectionStatus type;
   BOOL isFixingCrash = [self isFixingCrashWithContext:context];
   if (isFixingCrash) {
       type = BootingProtectionStatusFixing;
   } else {
       type = BootingProtectionStatusNeedFix;
   }
   return type;
}

- (NSUInteger)crashCount {
   return [[self class] crashCountWithContext:_context];
}

- (void)setCrashCount:(NSInteger)count {
   if (count &gt;=0) {
       [[self class] setCrashCount:count context:_context];
   }
}

- (void)setIsFixing:(BOOL)isFixingCrash {
   [[self class] setIsFixing:isFixingCrash context:_context];
}

/*!
* æ˜¯å¦æ­£åœ¨ä¿®å¤
*/
- (BOOL)isFixingCrash {
   return [[self class] isFixingCrashWithContext:_context];
}

- (void)setIsNormalChecking:(BOOL)isNormalChecking {
   [[self class] setIsNormalChecking:isNormalChecking context:_context];
}

/*!
* æ˜¯å¦æ­£åœ¨æ£€æŸ¥
*/
- (BOOL)isNormalChecking {
   return [[self class] isNormalCheckingWithContext:_context];
}

+ (NSUInteger)crashCountWithContext:(NSString *)context {
   NSString *continuousCrashOnLaunchCounterKey = [self continuousCrashOnLaunchCounterKeyWithContext:context];
   NSUInteger crashCount = [[NSUserDefaults standardUserDefaults] integerForKey:continuousCrashOnLaunchCounterKey];
   NSString *logString = [NSString stringWithFormat:@&quot;crashCount:%@&quot;, @(crashCount)];
   [[self class] Logger:logString];
   return crashCount;
}

+ (void)setCrashCount:(NSUInteger)count context:(NSString *)context {
   NSString *continuousCrashOnLaunchCounterKey = [self continuousCrashOnLaunchCounterKeyWithContext:context];
   NSString *logString = [NSString stringWithFormat:@&quot;setCrashCount:%@&quot;, @(count)];
   [[self class] Logger:logString];
   NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];
   [defaults setInteger:count forKey:continuousCrashOnLaunchCounterKey];
   [defaults synchronize];
}

+ (void)setIsFixing:(BOOL)isFixingCrash context:(NSString *)context {
   NSString *continuousCrashFixingKey = [[self class] continuousCrashFixingKeyWithContext:context];
   NSString *logString = [NSString stringWithFormat:@&quot;setisFixingCrash:{%@}&quot;, @(isFixingCrash)];
   [[self class] Logger:logString];
   NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];
   [defaults setBool:isFixingCrash forKey:continuousCrashFixingKey];
   [defaults synchronize];
}

+ (BOOL)isFixingCrashWithContext:(NSString *)context {
   NSString *continuousCrashFixingKey = [[self class] continuousCrashFixingKeyWithContext:context];
   BOOL isFixingCrash = [[NSUserDefaults standardUserDefaults] boolForKey:continuousCrashFixingKey];
   NSString *logString = [NSString stringWithFormat:@&quot;isFixingCrash:%@&quot;, @(isFixingCrash)];
   [[self class] Logger:logString];
   return isFixingCrash;
}

+ (void)setIsNormalChecking:(BOOL)isNormalChecking context:(NSString *)context {
   NSString *continuousCrashNormalCheckingKey = [[self class] continuousCrashNormalCheckingKeyWithContext:context];
   NSString *logString = [NSString stringWithFormat:@&quot;setIsNormalChecking:{%@}&quot;, @(isNormalChecking)];
   [[self class] Logger:logString];
   NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];
   [defaults setBool:isNormalChecking forKey:continuousCrashNormalCheckingKey];
   [defaults synchronize];
}

+ (BOOL)isNormalCheckingWithContext:(NSString *)context {
   NSString *continuousCrashFixingKey = [[self class] continuousCrashNormalCheckingKeyWithContext:context];
   BOOL isFixingCrash = [[NSUserDefaults standardUserDefaults] boolForKey:continuousCrashFixingKey];
   NSString *logString = [NSString stringWithFormat:@&quot;isIsNormalChecking:%@&quot;, @(isFixingCrash)];
   [[self class] Logger:logString];
   return isFixingCrash;
}

- (BOOL)isUpToBootingProtectionCount {
   return [[self class] isUpToBootingProtectionCountWithContext:_context continuousCrashOnLaunchNeedToFix:_continuousCrashOnLaunchNeedToFix];
}

+ (BOOL)isUpToBootingProtectionCountWithContext:(NSString *)context continuousCrashOnLaunchNeedToFix:(NSUInteger)continuousCrashOnLaunchNeedToFix {
   BOOL isUpToCount = [self crashCountWithContext:context] &gt;= continuousCrashOnLaunchNeedToFix;
   if (isUpToCount) {
       return YES;
   }
   return NO;
}

- (void)setReportBlock:(ABSReportBlock)block {
   _reportBlock = block;
}

- (void)setRepairBlock:(ABSRepairBlock)block {
   _repairBlock = block;
}

/*!
*  â€œè¿ç»­å¯åŠ¨å´©æºƒè®¡æ•°â€ä¸ªæ•°ï¼Œå¯¹åº”çš„Key
*  é»˜è®¤ä¸º &quot;_CONTINUOUS_CRASH_COUNTER_KEY&quot;
*/
+ (NSString *)continuousCrashOnLaunchCounterKeyWithContext:(NSString *)context {
   BOOL isValid = [[self class] isValidString:context];
   NSString *validContext = isValid ? context : @&quot;&quot;;
   NSString *continuousCrashOnLaunchCounterKey = [NSString stringWithFormat:@&quot;%@_CONTINUOUS_CRASH_COUNTER_KEY&quot;, validContext];
   return continuousCrashOnLaunchCounterKey;
}

/*!
*  æ˜¯å¦æ­£åœ¨ä¿®å¤è®°å½•ï¼Œå¯¹åº”çš„Key
*  é»˜è®¤ä¸º &quot;_CONTINUOUS_CRASH_FIXING_KEY&quot;
*/
+ (NSString *)continuousCrashFixingKeyWithContext:(NSString *)context {
   BOOL isValid = [[self class] isValidString:context];
   NSString *validContext = isValid ? context : @&quot;&quot;;
   NSString *continuousCrashFixingKey = [NSString stringWithFormat:@&quot;%@_CONTINUOUS_CRASH_FIXING_KEY&quot;, validContext];
   return continuousCrashFixingKey;
}

/*!
*  æ˜¯å¦æ­£åœ¨æ£€æŸ¥æ˜¯å¦åœ¨ç‰¹å®šæ—¶é—´å†…ä¼šCrashï¼Œå¯¹åº”çš„Key
*  é»˜è®¤ä¸º &quot;_CONTINUOUS_CRASH_CHECKING_KEY&quot;
*/
+ (NSString *)continuousCrashNormalCheckingKeyWithContext:(NSString *)context {
   BOOL isValid = [[self class] isValidString:context];
   NSString *validContext = isValid ? context : @&quot;&quot;;
   NSString *continuousCrashFixingKey = [NSString stringWithFormat:@&quot;%@_CONTINUOUS_CRASH_CHECKING_KEY&quot;, validContext];
   return continuousCrashFixingKey;
}

#pragma mark -
#pragma mark - log and util Methods

+ (void)setLogger:(void (^)(NSString *))logger {
   Logger = [logger copy];
}

+ (void)Logger:(NSString *)log {
   if (Logger) Logger(log);
}

+ (BOOL)isValidString:(id)notValidString {
   if (!notValidString) {
       return NO;
   }
   if (![notValidString isKindOfClass:[NSString class]]) {
       return NO;
   }
   NSInteger stringLength = 0;
   @try {
       stringLength = [notValidString length];
   } @catch (NSException *exception) {}
   if (stringLength == 0) {
       return NO;
   }
   return YES;
}

@end
</code></pre><p>ä¸‹é¢æ˜¯ç›¸åº”çš„éªŒè¯æ­¥éª¤ï¼š</p>
<p>ç­‰å¾…15ç§’ä¼šæœ‰å¯¹åº”è®¡æ•°æ¸…é›¶çš„æ“ä½œæ—¥å¿—è¾“å‡ºï¼š</p>
<pre><code>2018-01-18 16:25:37.162980+0800 BootingProtection[89773:15553277] ğŸ”´ç±»åä¸æ–¹æ³•åï¼š-[AppDelegate onBeforeBootingProtection]_block_invokeï¼ˆåœ¨ç¬¬45è¡Œï¼‰ï¼Œæè¿°ï¼šCYLBootingProtection: Launch continuous crash report
2018-01-18 16:25:37.163140+0800 BootingProtection[89773:15553277] ğŸ”´ç±»åä¸æ–¹æ³•åï¼š-[AppDelegate onBeforeBootingProtection]_block_invokeï¼ˆåœ¨ç¬¬45è¡Œï¼‰ï¼Œæè¿°ï¼šsetIsNormalChecking:{0}
2018-01-18 16:25:37.165738+0800 BootingProtection[89773:15553277] ğŸ”´ç±»åä¸æ–¹æ³•åï¼š-[AppDelegate onBeforeBootingProtection]_block_invokeï¼ˆåœ¨ç¬¬45è¡Œï¼‰ï¼Œæè¿°ï¼šsetisFixingCrash:{0}
2018-01-18 16:25:37.166883+0800 BootingProtection[89773:15553277] ğŸ”´ç±»åä¸æ–¹æ³•åï¼š-[AppDelegate onBeforeBootingProtection]_block_invokeï¼ˆåœ¨ç¬¬45è¡Œï¼‰ï¼Œæè¿°ï¼šcrashCount:0
2018-01-18 16:25:37.167102+0800 BootingProtection[89773:15553277] ğŸ”´ç±»åä¸æ–¹æ³•åï¼š-[AppDelegate onBeforeBootingProtection]_block_invokeï¼ˆåœ¨ç¬¬45è¡Œï¼‰ï¼Œæè¿°ï¼šcrashCount:0
2018-01-18 16:25:37.167253+0800 BootingProtection[89773:15553277] ğŸ”´ç±»åä¸æ–¹æ³•åï¼š-[AppDelegate onBeforeBootingProtection]_block_invokeï¼ˆåœ¨ç¬¬45è¡Œï¼‰ï¼Œæè¿°ï¼šsetIsNormalChecking:{1}
2018-01-18 16:25:37.167938+0800 BootingProtection[89773:15553277] ğŸ”´ç±»åä¸æ–¹æ³•åï¼š-[AppDelegate onBeforeBootingProtection]_block_invokeï¼ˆåœ¨ç¬¬45è¡Œï¼‰ï¼Œæè¿°ï¼šsetCrashCount:1
2018-01-18 16:25:37.168806+0800 BootingProtection[89773:15553277] ğŸ”´ç±»åä¸æ–¹æ³•åï¼š-[AppDelegate onBeforeBootingProtection]_block_invokeï¼ˆåœ¨ç¬¬45è¡Œï¼‰ï¼Œæè¿°ï¼šneed no repair



2018-01-18 16:25:52.225197+0800 BootingProtection[89773:15553277] ğŸ”´ç±»åä¸æ–¹æ³•åï¼š-[AppDelegate onBeforeBootingProtection]_block_invokeï¼ˆåœ¨ç¬¬45è¡Œï¼‰ï¼Œæè¿°ï¼šCYLBootingProtection: long live the app ( more than 15 seconds ), now reset crash counts
2018-01-18 16:25:52.225378+0800 BootingProtection[89773:15553277] ğŸ”´ç±»åä¸æ–¹æ³•åï¼š-[AppDelegate onBeforeBootingProtection]_block_invokeï¼ˆåœ¨ç¬¬45è¡Œï¼‰ï¼Œæè¿°ï¼šsetCrashCount:0
2018-01-18 16:25:52.226234+0800 BootingProtection[89773:15553277] ğŸ”´ç±»åä¸æ–¹æ³•åï¼š-[AppDelegate onBeforeBootingProtection]_block_invokeï¼ˆåœ¨ç¬¬45è¡Œï¼‰ï¼Œæè¿°ï¼šsetIsNormalChecking:{0}
2018-01-18 16:25:52.226595+0800 BootingProtection[89773:15553277] ğŸ”´ç±»åä¸æ–¹æ³•åï¼š-[AppDelegate onBeforeBootingProtection]_block_invokeï¼ˆåœ¨ç¬¬45è¡Œï¼‰ï¼Œæè¿°ï¼šsetisFixingCrash:{0}
</code></pre><hr>
<p>Posted by <a href="https://weibo.com/luohanchenyilong/">å¾®åš@iOSç¨‹åºçŠ­è¢</a><br>
åŸåˆ›æ–‡ç« ï¼Œç‰ˆæƒå£°æ˜ï¼šè‡ªç”±è½¬è½½-éå•†ç”¨-éè¡ç”Ÿ-ä¿æŒç½²å | <a href="https://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh">Creative Commons BY-NC-ND 3.0</a></p>
</div>
        
            <div class="article-licensing box">
    <div class="licensing-title">
        <p>è¿ç»­å¯åŠ¨ crash è‡ªä¿®å¤æŠ€æœ¯å®ç°ä¸åŸç†è§£æ</p>
        <p><a href="https://blog.policx.com/posts/crash/">https://blog.policx.com/posts/crash/</a></p>
    </div>
    <div class="licensing-meta level is-mobile">
        <div class="level-left">
            
                <div class="level-item is-narrow">
                    <div>
                        <h6>ä½œè€…</h6>
                        <p>æ±Ÿæ¹–</p>
                    </div>
                </div>
            
            
                <div class="level-item is-narrow">
                    <div>
                        <h6>å‘å¸ƒäº</h6>
                        <p>2018-02-06</p>
                    </div>
                </div>
            
            
                <div class="level-item is-narrow">
                    <div>
                        <h6>æ›´æ–°äº</h6>
                        <p>2018-02-06</p>
                    </div>
                </div>
            
            <div class="level-item is-narrow">
                <div>
                    <h6>è®¸å¯åè®®</h6>
                    <p>
                        
                            <a class="" title="CC BY-NC 4.0" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">
                                CC BY-NC 4.0
                            </a>
                        
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

        
        
            <div class="article-tags size-small mb-4">
                <span class="mr-2">#</span><a class="link-muted mr-2" href="/tags/%ef%a3%bf" rel="tag">ï£¿</a></div>
        
        

    </article>
</div>


    <div class="card">
    <div class="card-content">
        <h3 class="menu-label has-text-centered">å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Ÿæ‰“èµä¸€ä¸‹ä½œè€…å§</h3>
        <div class="buttons is-centered">
            
                
                

    <a class="button donate" data-type="alipay">
        <span class="icon is-small">
            <i class="fab fa-alipay"></i>
        </span>
        <span>æ”¯ä»˜å®</span>
        <span class="qrcode">
            <img src="/img/donate/alipay.webp" alt="æ”¯ä»˜å®">
        </span>
    </a>


                
            
                
                

    <a class="button donate" data-type="wechat">
        <span class="icon is-small">
            <i class="fab fa-weixin"></i>
        </span>
        <span>å¾®ä¿¡</span>
        <span class="qrcode">
            <img src="/img/donate/wechat.webp" alt="å¾®ä¿¡">
        </span>
    </a>


                
            
        </div>
    </div>
</div>




    <nav class="post-navigation mt-4 level is-mobile">
        
            <div class="level-start">
                <a class="article-nav-prev level level-item link-muted" href="https://blog.policx.com/posts/http/">
                    <i class="level-item fas fa-chevron-left"></i>
                    <span class="level-item">HTTPçŠ¶æ€ç æ±‡æ€»</span>
                </a>
            </div>
        
        
            <div class="level-end">
                <a class="article-nav-next level level-item link-muted" href="https://blog.policx.com/posts/nginx/">
                    <span class="level-item">Nginx</span>
                    <i class="level-item fas fa-chevron-right"></i>
                </a>
            </div>
        
    </nav>



    <div class="card">
    <div class="card-content">
        <h3 class="title is-5">è¯„è®º</h3>
        
        

    <div id="comment-container"></div>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.6.2/gitalk.min.css"/>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.6.2/gitalk.min.js"></script>
    <script>
        
        const gitalk = new Gitalk({
          id: "4ee1cd57e6d180b00c35fb9d65128055",
          repo: "talk",
          owner: "policx",
          clientID: "668d4c1dc3767af8dc3b",
          clientSecret: "f6b37398c2743c2a63752f7154e8d246ec17b9c0",
          admin: ["policx"],
          createIssueManually:  false ,
          distractionFreeMode:  false ,
          perPage:  10 ,
          pagerDirection: "last",enableHotKey:  true ,});
        gitalk.render('comment-container');
    </script>


        
    </div>
</div>




            </div>
            

    <div class="column column-left is-4-tablet is-4-desktop is-3-widescreen order-1 ">
        
            
            
                
                
<div class="card widget" data-type="profile">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered flex-shrink-1">
                <div>
                    <figure class="image is-128x128 mx-auto mb-2">
                        <img class="avatar is-rounded"
                             src="/img/avatar.png"
                             alt="é«˜è¿œ">
                    </figure>
                    <p class="title is-size-4 is-block" style="line-height: inherit">é«˜è¿œ</p>
                    <p class="is-size-6 is-block">åº™å ‚é«˜ï¼Œæ±Ÿæ¹–è¿œ</p>
                    
                        <p class="is-size-6 is-flex justify-content-center">
                            <i class="fas fa-map-marker-alt mr-1"></i>
                            <span>Sakhalin</span>
                        </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">æ–‡ç« </p>
                    <a href="/archives"><p class="title">76</p></a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">åˆ†ç±»</p>
                    <a href="/categories"><p class="title">5</p></a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">æ ‡ç­¾</p>
                    <a href="/tags"><p class="title">8</p></a>
                </div>
            </div>
        </nav>
        
            <div class="level">
                <a class="level-item button is-primary is-rounded" href="https://blog.policx.com/"
                   target="_blank" rel="noopener">å…³æ³¨æˆ‘</a>
            </div>
        
        <div class="level is-mobile">
            
                <a class="level-item button is-transparent is-marginless" title="Telegram" href="https://telegram.me/your_name"
                   target="_blank" rel="noopener">
                    <i class="fab fa-telegram"></i>
                </a>
            
                <a class="level-item button is-transparent is-marginless" title="Mail" href="mailto:heal@policx.com"
                   target="_blank" rel="noopener">
                    <i class="fas fa-envelope"></i>
                </a>
            
                <a class="level-item button is-transparent is-marginless" title="RSS" href="/index.xml"
                   target="_blank" rel="noopener">
                    <i class="fas fa-rss"></i>
                </a>
            
        </div>
    </div>
</div>

                
            
        
            
            
                
                

                
            
        
            
            
                
                <div class="card widget" data-type="categories">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">åˆ†ç±»</h3>
            <ul class="menu-list">
                
                    <li>
                        <a class="level is-mobile" href="/categories/news/">
                            <span class="level-start">
                                <span class="level-item">news</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">9</span>
                            </span>
                        </a>
                    </li>
                
                    <li>
                        <a class="level is-mobile" href="/categories/notes/">
                            <span class="level-start">
                                <span class="level-item">notes</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">23</span>
                            </span>
                        </a>
                    </li>
                
                    <li>
                        <a class="level is-mobile" href="/categories/program/">
                            <span class="level-start">
                                <span class="level-item">program</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">39</span>
                            </span>
                        </a>
                    </li>
                
                    <li>
                        <a class="level is-mobile" href="/categories/software/">
                            <span class="level-start">
                                <span class="level-item">software</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">2</span>
                            </span>
                        </a>
                    </li>
                
                    <li>
                        <a class="level is-mobile" href="/categories/wwdc/">
                            <span class="level-start">
                                <span class="level-item">wwdc</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">3</span>
                            </span>
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>


                
            
        
            
            
                
                <div class="card widget" data-type="tags">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">æ ‡ç­¾</h3>
            <div class="field is-grouped is-grouped-multiline">
                
                    <div class="control">
                        <a class="tags has-addons" href="/tags/django/">
                            <span class="tag">django</span>
                            <span class="tag">2</span>
                        </a>
                    </div>
                
                    <div class="control">
                        <a class="tags has-addons" href="/tags/git/">
                            <span class="tag">git</span>
                            <span class="tag">2</span>
                        </a>
                    </div>
                
                    <div class="control">
                        <a class="tags has-addons" href="/tags/linux/">
                            <span class="tag">linux</span>
                            <span class="tag">5</span>
                        </a>
                    </div>
                
                    <div class="control">
                        <a class="tags has-addons" href="/tags/markdown/">
                            <span class="tag">markdown</span>
                            <span class="tag">1</span>
                        </a>
                    </div>
                
                    <div class="control">
                        <a class="tags has-addons" href="/tags/program/">
                            <span class="tag">program</span>
                            <span class="tag">2</span>
                        </a>
                    </div>
                
                    <div class="control">
                        <a class="tags has-addons" href="/tags/python/">
                            <span class="tag">python</span>
                            <span class="tag">8</span>
                        </a>
                    </div>
                
                    <div class="control">
                        <a class="tags has-addons" href="/tags/wwdc/">
                            <span class="tag">wwdc</span>
                            <span class="tag">3</span>
                        </a>
                    </div>
                
                    <div class="control">
                        <a class="tags has-addons" href="/tags/%e5%96%84%e7%94%a8%e4%bd%b3%e8%bd%af/">
                            <span class="tag">å–„ç”¨ä½³è½¯</span>
                            <span class="tag">2</span>
                        </a>
                    </div>
                
            </div>
        </div>
    </div>
</div>


                
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
        
            <div class="column-right-shadow is-hidden-widescreen "></div>
        
    </div>


    <div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 ">
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
                
                
<div class="card widget" data-type="recent-posts">
    <div class="card-content">
        <h3 class="menu-label">æœ€æ–°æ–‡ç« </h3>
        
            <article class="media">
    
        <figure class="media-left">
            <a class="image" href="https://blog.policx.com/posts/2020/">
                <img src="/img/wwdc/2020.jpg" alt="WWDC 2020">
            </a>
        </figure>
    
    <div class="media-content">
        <p class="date"><time datetime='2020-06-23T11:06:39Z'>2020-06-23</time></p>
        <p class="title"><a href="https://blog.policx.com/posts/2020/">WWDC 2020</a></p>
        <p class="categories"><a href="/categories/wwdc">wwdc</a></p>
    </div>
</article>

        
            <article class="media">
    
        <figure class="media-left">
            <a class="image" href="https://blog.policx.com/posts/linuxdesktop/">
                <img src="https://oscimg.oschina.net/oscnet/04b04752c3797920f5466e7c8c16edb273c.jpg" alt="Linux æ¡Œé¢è¿›åŒ–å²">
            </a>
        </figure>
    
    <div class="media-content">
        <p class="date"><time datetime='2019-08-29T00:00:00Z'>2019-08-29</time></p>
        <p class="title"><a href="https://blog.policx.com/posts/linuxdesktop/">Linux æ¡Œé¢è¿›åŒ–å²</a></p>
        <p class="categories"><a href="/categories/program">program</a></p>
    </div>
</article>

        
            <article class="media">
    
        <figure class="media-left">
            <a class="image" href="https://blog.policx.com/posts/knowledge/">
                <img src="https://gitee.com/policx/im/raw/master/images/UX6DG4.jpg" alt="å…³äºçŸ¥è¯†äº§æƒã€çŸ¥è¯†å…±äº«ä¸æ–‡ç« ç¿»è¯‘">
            </a>
        </figure>
    
    <div class="media-content">
        <p class="date"><time datetime='2019-08-25T09:20:42Z'>2019-08-25</time></p>
        <p class="title"><a href="https://blog.policx.com/posts/knowledge/">å…³äºçŸ¥è¯†äº§æƒã€çŸ¥è¯†å…±äº«ä¸æ–‡ç« ç¿»è¯‘</a></p>
        <p class="categories"><a href="/categories/news">news</a></p>
    </div>
</article>

        
            <article class="media">
    
        <figure class="media-left">
            <a class="image" href="https://blog.policx.com/posts/2020dev/">
                <img src="https://gitee.com/policx/im/raw/master/images/ofYs51.jpg" alt="2020å¹´é¡¶çº§ç¼–ç¨‹è¯­è¨€çš„ç»Ÿè®¡æ•°æ®å’Œè°ƒæŸ¥ç»“æœå¦‚ä½•ï¼Ÿ">
            </a>
        </figure>
    
    <div class="media-content">
        <p class="date"><time datetime='2019-08-19T08:21:23Z'>2019-08-19</time></p>
        <p class="title"><a href="https://blog.policx.com/posts/2020dev/">2020å¹´é¡¶çº§ç¼–ç¨‹è¯­è¨€çš„ç»Ÿè®¡æ•°æ®å’Œè°ƒæŸ¥ç»“æœå¦‚ä½•ï¼Ÿ</a></p>
        <p class="categories"><a href="/categories/news">news</a></p>
    </div>
</article>

        
            <article class="media">
    
        <figure class="media-left">
            <a class="image" href="https://blog.policx.com/posts/five_a/">
                <img src="https://images.pexels.com/photos/7114/laptop-mobile.jpg?auto=compress&amp;cs=tinysrgb&amp;dpr=2&amp;w=500" alt="Dice ç§°è¿™  5 ç§ç¼–ç¨‹è¯­è¨€æœªæ¥å¯èƒ½å„è‡ªæˆç‹">
            </a>
        </figure>
    
    <div class="media-content">
        <p class="date"><time datetime='2019-08-16T16:14:18Z'>2019-08-16</time></p>
        <p class="title"><a href="https://blog.policx.com/posts/five_a/">Dice ç§°è¿™  5 ç§ç¼–ç¨‹è¯­è¨€æœªæ¥å¯èƒ½å„è‡ªæˆç‹</a></p>
        <p class="categories"><a href="/categories/news">news</a></p>
    </div>
</article>

        
    </div>
</div>

                
            
        
            
            
                
                
<div class="card widget" data-type="archives">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">å½’æ¡£</h3>
            <ul class="menu-list">
                
                    
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2020-06">
                            <span class="level-start">
                                <span class="level-item">2020å¹´ 6æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">1</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2019-08">
                            <span class="level-start">
                                <span class="level-item">2019å¹´ 8æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">5</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2019-07">
                            <span class="level-start">
                                <span class="level-item">2019å¹´ 7æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">9</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2019-06">
                            <span class="level-start">
                                <span class="level-item">2019å¹´ 6æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">1</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2018-09">
                            <span class="level-start">
                                <span class="level-item">2018å¹´ 9æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">2</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                        
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2018-06">
                            <span class="level-start">
                                <span class="level-item">2018å¹´ 6æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">3</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                        
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2018-05">
                            <span class="level-start">
                                <span class="level-item">2018å¹´ 5æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">3</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2018-04">
                            <span class="level-start">
                                <span class="level-item">2018å¹´ 4æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">2</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                        
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2018-03">
                            <span class="level-start">
                                <span class="level-item">2018å¹´ 3æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">3</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2018-02">
                            <span class="level-start">
                                <span class="level-item">2018å¹´ 2æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">4</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2018-01">
                            <span class="level-start">
                                <span class="level-item">2018å¹´ 1æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">1</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2017-09">
                            <span class="level-start">
                                <span class="level-item">2017å¹´ 9æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">1</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2017-07">
                            <span class="level-start">
                                <span class="level-item">2017å¹´ 7æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">1</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2017-03">
                            <span class="level-start">
                                <span class="level-item">2017å¹´ 3æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">2</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2017-02">
                            <span class="level-start">
                                <span class="level-item">2017å¹´ 2æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">2</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2016-12">
                            <span class="level-start">
                                <span class="level-item">2016å¹´ 12æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">1</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2016-10">
                            <span class="level-start">
                                <span class="level-item">2016å¹´ 10æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">1</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2016-08">
                            <span class="level-start">
                                <span class="level-item">2016å¹´ 8æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">1</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2016-06">
                            <span class="level-start">
                                <span class="level-item">2016å¹´ 6æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">12</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                        
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2016-03">
                            <span class="level-start">
                                <span class="level-item">2016å¹´ 3æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">3</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2016-02">
                            <span class="level-start">
                                <span class="level-item">2016å¹´ 2æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">2</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2016-01">
                            <span class="level-start">
                                <span class="level-item">2016å¹´ 1æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">1</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2015-12">
                            <span class="level-start">
                                <span class="level-item">2015å¹´ 12æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">1</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2015-09">
                            <span class="level-start">
                                <span class="level-item">2015å¹´ 9æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">1</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2015-06">
                            <span class="level-start">
                                <span class="level-item">2015å¹´ 6æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">2</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2014-11">
                            <span class="level-start">
                                <span class="level-item">2014å¹´ 11æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">1</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                        
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2014-09">
                            <span class="level-start">
                                <span class="level-item">2014å¹´ 9æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">3</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2014-08">
                            <span class="level-start">
                                <span class="level-item">2014å¹´ 8æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">1</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2014-06">
                            <span class="level-start">
                                <span class="level-item">2014å¹´ 6æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">1</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2014-05">
                            <span class="level-start">
                                <span class="level-item">2014å¹´ 5æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">1</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2014-03">
                            <span class="level-start">
                                <span class="level-item">2014å¹´ 3æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">1</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2013-07">
                            <span class="level-start">
                                <span class="level-item">2013å¹´ 7æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">1</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2012-12">
                            <span class="level-start">
                                <span class="level-item">2012å¹´ 12æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">1</span>
                            </span>
                        </a>
                    </li>
                
                    
                    
                        
                    
                    <li>
                        <a class="level is-mobile" href="/archives/#2011-11">
                            <span class="level-start">
                                <span class="level-item">2011å¹´ 11æœˆ</span>
                            </span>
                            <span class="level-end">
                                <span class="level-item tag">1</span>
                            </span>
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

                
            
        
            
            
                
                
<div class="card widget" data-type="links">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">é“¾æ¥</h3>
            <ul class="menu-list">
                
                    <li>
                        <a class="level is-mobile" href="https://gohugo.io" target="_blank" rel="noopener">
                            <span class="level-left"><span class="level-item">Hugo</span></span>
                            <span class="level-right">
                                <span class="level-item tag">
                                    gohugo.io
                                </span>
                            </span>
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

                
            
        
            
            
                
                
<div class="card widget" data-type="subscribe-email">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">è®¢é˜…æ›´æ–°</h3>
            <form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow"
                  onsubmit="window.open('https://feedburner.google.com/fb/a/mailverify?uri=','popupwindow','scrollbars=yes,width=550,height=520');return true">
                <input type="hidden" value="" name="uri">
                <input type="hidden" name="loc" value="en_US">
                <div class="field has-addons">
                    <div class="control has-icons-left is-expanded">
                        <input class="input" name="email" type="email" placeholder="Email">
                        <span class="icon is-small is-left"><i class="fas fa-envelope"></i></span>
                    </div>
                    <div class="control"><input class="button" type="submit" value="è®¢é˜…"></div>
                </div>
                <p class="help">Powered by Google feedburner</p>
            </form>
        </div>
    </div>
</div>

                
            
        
            
            
                
                
<div class="card widget" data-type="adsense">
    <div class="card-content">
        
            <div class="notification is-danger">You need to set <code>client_id</code> and
                <code>slot_id</code> to show this AD unit. Please set it in <code>config.yaml</code>.
            </div>
        
    </div>
</div>

                
            
        
    </div>


        </div>
    </div>
</section>
<footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start">
                <a class="footer-logo is-block mb-2" href="/">
                    
                        <img src="/img/apple/logo.gif" alt="DDoSï¼ˆåˆ†å¸ƒå¼æ‹’ç»æœåŠ¡ï¼‰æ”»å‡»æ˜¯æ— è§£çš„å—ï¼Ÿ" height="28">
                    
                </a>
                <p class="is-size-7">
                    <span>&copy; 2020 æ±Ÿæ¹–</span>&nbsp;&nbsp;Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a>&nbsp;&&nbsp;<a href="https://github.com/iMaple/hugo-theme-icarus/" target="_blank" rel="noopener">Icarus</a>
                    
                        <br/>
                        <span id="busuanzi_container_site_uv">å…±<span id="busuanzi_value_site_uv">0</span>ä¸ªè®¿å®¢</span>
                    
                </p>
            </div>
            <div class="level-end">
                <div class="field has-addons">
                    
                        <p class="control">
                            <a class="button is-transparent is-large" title="Creative Commons" href="https://creativecommons.org/" target="_blank" rel="noopener">
                                <i class="fab fa-creative-commons"></i>
                            </a>
                        </p>
                    
                </div>
            </div>
        </div>
    </div>
</footer>



<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.26.0/moment-with-locales.min.js"></script>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" defer></script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js"></script>
<script>moment.locale("zh-cn");</script>

<script>
    var IcarusThemeSettings = {
      article: {
        highlight: {
          clipboard:  true ,
          fold: "unfolded"
        }
      },
      toc: {
        index:  true 
      }
    };
</script>

<script type="text/javascript" src="/js/column.js"></script>


    
    
        
        
        
        

    <script type="text/javascript" src="/js/animation.js"></script>


        
    

    
    
        
        
        
        

    <a id="back-to-top" title="å›åˆ°é¡¶ç«¯" href="javascript:;">
        <i class="fas fa-chevron-up"></i>
    </a>
    <script type="text/javascript" src="/js/back2top.js" defer></script>


        
    

    
    

    
    

    
    
        
        
        
        



        
    

    
    

    
    
        
        
        
        

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.js" defer></script>
    <script>
    window.addEventListener('load', () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static:  false ,
        position: "bottom-left",
        content: {
          message: "æ­¤ç½‘ç«™ä½¿ç”¨Cookieæ¥æ”¹å–„æ‚¨çš„ä½“éªŒã€‚",
          dismiss: "çŸ¥é“äº†ï¼",
          allow: "å…è®¸ä½¿ç”¨Cookie",
          deny: "æ‹’ç»",
          link: "äº†è§£æ›´å¤š",
          policy: "Cookieæ”¿ç­–",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: '#edeff5',
            text: '#838391'
          },
          button: {
            background: '#4b81e8'
          },
        },
      });
    });
    </script>


        
    

    
    

    
    

    
    

    
    

    
    
        
        
        
        

    <script type="text/x-mathjax-config;executed=true">
    MathJax.Hub.Config({
      'HTML-CSS': {matchFontHeight: false},
      SVG: {matchFontHeight: false},
      CommonHTML: {matchFontHeight: false},
      tex2jax: {inlineMath: [['$', '$'], ['\\(', '\\)']]}
    });
    </script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>


        
    

    
    
        
        
        
        

    <div id="outdated">
        <h6>Your browser is out-of-date!</h6>
        <p>Update your browser to view this website correctly.&nbsp;
            <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update my browser now </a>
        </p>
        <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">Ã—</a></p>
    </div>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.js" defer></script>
    <script>
        window.addEventListener('load', function () {
          outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'object-fit'
          });
        });
    </script>


        
    

    
    
        
        
        
        



        
    

    
    

    
    
        
        
        
        

    <script src="https://cdnjs.cloudflare.com/ajax/libs/smoothscroll/1.4.10/SmoothScroll.min.js" async></script>


        
    

    
    


<script type="text/javascript" src="/js/main.js" defer></script>


    
    <div class="searchbox">
    <div class="searchbox-container">
        <div class="searchbox-header">
            <div class="searchbox-input-container">
                <input class="searchbox-input" type="text" placeholder="æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ..."/>
            </div>
            <a class="searchbox-close" href="javascript:;">Ã—</a>
        </div>
        <div class="searchbox-body"></div>
    </div>
</div>
<script type="text/javascript" src="/js/insight.js" defer></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
      loadInsight(
        {contentUrl: '/index.json'},
        {
          hint: "æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ...",
          untitled: "(æ— æ ‡é¢˜)",
          posts: "æ–‡ç« ",
          pages: "é¡µé¢",
          categories: "åˆ†ç±»",
          tags: "æ ‡ç­¾"
        }
      );
    });
</script>

    


</body>
</html>
